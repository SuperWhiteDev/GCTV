# GCTV C/C++ Functions Documentation

_This documentation was generated by ChatGPT._

The GCTV API provides a set of functions written in C/C++ that allow you to interact with the engine, manage GCTV global variables, control script execution, bind terminal commands, and more. This documentation covers the available functions along with their prototypes and example usages.

## Table of Contents
- [Base](#base)
  - [GetGCTVersion](#GetGCTVersion)
  - [GetGCTStringVersion](#GetGCTStringVersion)
  - [ConvertStringToKeyCode](#ConvertStringToKeyCode)
  - [IsPressedKey](#IsPressedKey)
  - [IsScriptsStillWorking](#IsScriptsStillWorking)
  - [RestartScripts](#RestartScripts)
  - [RunScript](#RunScript)
  - [GCTDisplayError](#GCTDisplayError)
  - [GetString](#GetString)
- [Global](#communication)
  - [Register](#Register)
  - [GetVariableType](#GetGlobalVariableType)
  - [Get](#GetGlobalVariable)
  - [Set](#SetGlobalVariableValue-number)
  - [Exists](#IsGlobalVariableExist)
  - [Clear](#ClearGlobalVariablesStore)
- [Terminal](#terminal)
  - [BindCommand](#BindCommand)
  - [UnBindCommand](#UnBindCommand)
  - [IsCommandExist](#IsCommandExist)
- [Console](#Console)
  - [Print](#Print)
  - [Error](#Error)
  - [PrintColoured](#PrintColoured)
  - [Write](#Write)
  - [SetColor](#SetColor)
  - [ResetColor](#ResetColor)
  - [Input](#Input)
  - [InputFromList](#InputFromList)
- [Gamepad](#Gamepad)
  - [SelectController](#SelectController)
  - [GetController](#GetController)
  - [GetPressedKey](#GetPressedKey)
  - [GetPressedKeys](#GetPressedKeys)
  - [GetLeftStickState](#GetLeftStickState)
  - [GetRightStickState](#GetRightStickState)
  - [GetTriggersState](#GetTriggersState)
  - [SendVibration](#SendVibration)

===========================================================

# Base

## GetGCTVersion
**Prototype:**  
```cpp
int GetGCTVersion();
```

**Description:**
Returns version of the GCTV as an integer.

**Example:**
```cpp
#include "Console.hpp"
#include "Functions.hpp"

void main() {
    int version = GCTV::GetGCTVersion();
    Console::Print("GCTV Version", version);
}
```

## GetGCTStringVersion
**Prototype:**  
```cpp
const char* GetGCTStringVersion();
```

**Description:**
Returns the current version of the GCTV engine as a formatted string.

**Example:**
```cpp
#include "Console.hpp"
#include "Functions.hpp"

void main() {
    const char* version = GCTV::GetGCTStringVersion();
    Console::Print("GCTV Version", version);
}
```

## ConvertStringToKeyCode
**Prototype:**  
```cpp
int64_t ConvertStringToKeyCode(const char* Key);
```

**Description:**
Converts a key represented as a string to its corresponding key code (an integer key code).

**Example:**
```cpp
#include "Console.hpp"
#include "Functions.hpp"

void main() {
    int64_t keyCode = GCTV::ConvertStringToKeyCode("Ctrl+W");
    Console::Print("Key Code for Ctrl+A: ", keyCode);
}
```

## IsPressedKey
**Prototype:**  
```cpp
bool IsPressedKey(int64_t Key);
```

**Description:**
Checks if the specified key (given as a key code) is currently pressed.

**Example:**
```cpp
#include "Console.hpp"
#include "Functions.hpp"

void main() {
    int64_t key = GCTV::ConvertStringToKeyCode("Space");
    if (GCTV::IsPressedKey(key)) Console::Print("Space key is pressed!");
    
}
```

## IsScriptsStillWorking
**Prototype:**  
```cpp
bool IsScriptsStillWorking();
```

**Description:**
Returns true if scripts are currently running, otherwise returns false.

**Example:**
```cpp
#include "Console.hpp"
#include "Functions.hpp"

void main() {
    while(GCTV::IsScriptsStillWorking()) {
        ENTITY::SET_ENTITY_HEALTH(PLAYER::PLAYER_PED_ID(), 300, (Entity)NULL, (Hash)NULL);

        Sleep(500);
    }
}
```

## RestartScripts
**Prototype:**  
```cpp
bool RestartScripts();
```

**Description:**
Restarts all currently running scripts.

**Example:**
```cpp
#include "Console.hpp"
#include "Functions.hpp"

void main() {
    if (GCTV::IsPressedKey(GCTV::ConvertStringToKeyCode("Ctrl+F6"))) 
        GCTV::RestartScripts();
}
```

## RunScript
**Prototype:**  
```cpp
bool RunScript(const std::string& scriptPath);
```

**Description:**
Restarts all currently running scripts.

**Example:**
```cpp
#include "Console.hpp"
#include "Functions.hpp"

std::string sampleScriptName = "Sample.dll";

void main() {
    Console::Print("Initializing...");

    if (!GCTV::RunScript("examples\\"+sampleScriptName)) Console::Error("Initialization failed!");
}
```

## GCTDisplayError
**Prototype:**  
```cpp
void GCTDisplayError(const std::string& message);
```

**Description:**
Displays an error message to the console. (Note: This function is considered outdated.)

**Example:**
```cpp
#include "Functions.hpp"

void main() {
    GCTV::GCTDisplayError("An unexpected error occurred.");
}
```

## GetString
**Prototype:**  
```cpp
std::string Language::GetString(const std::string& key);
```

**Description:**
Returns the string in the current language package

**Example:**
```cpp
#include "Functions.hpp"
#include "Terminal.hpp"

void main() {
    auto prompt = GCTV::Language::GetString("EnterTypeOfRetValue");
    
    Terminal::Print("User input:", Terminal::Input(prompt));
}
```

===========================================================

# Global

## Register
**Prototype:**  
```cpp
bool Register(const std::string& name, INT64 value);
bool Register(const std::string& name, double value);
bool Register(const std::string& name, std::string value);
bool Register(const std::string& name, std::vector<INT64> value);
bool Register(const std::string& name, std::vector<double> value);
bool Register(const std::string& name, std::vector<std::string> value);
```

**Description:**
Registers a global variable in GCTV's memory space that can be accessed from any script supported by GCTV.
With this function you can exchange data between different scripts in real time.

**Example:**
```cpp
#include "Functions.hpp"

void main() {
    if (GCTV::Global::Register("score", (INT64)100)) {
        // Global variable "score" registered successfully.
    }
}
```

## GetVariableType

**Prototype:**  
```cpp
Type GetVariableType(const std::string& name);
```

**Description:**
Retrieves the type of the global variable specified by its name.
Returned type may be NUMBER, DOUBLE_NUMBER, STRING, LIST_OF_NUMBERS, LIST_OF_DOUBLES, or LIST_OF_STRINGS.

**Example:**
```cpp
#include "Functions.hpp"
#include "Console.hpp"

void main() {
    GCTV::GlobalVariableType type = GCTV::Global::GetVariableType("score");
    if (type != GCTV::GlobalVariableType::NUMBER) {
        Console::Error("Error \"score\" isn't a number value!");
    }
}
```

## Get

**Prototype:**  
```cpp
int64_t Get(const std::string& name);
double Get(const std::string& name);
std::string Get(const std::string& name);
std::vector<int64_t> Get(const std::string& name);
std::vector<double> Get(const std::string& name);
std::vector<std::string> Get(const std::string& name);
```

**Description:**
Retrieves the value of a registered global variable by its name.

**Example:**
```cpp
#include "Functions.hpp"
#include "Console.hpp"

void main() {
    INT64 score = GCTV::Global::Get<INT64>("score");
    Console::Print("Your score is", score);
}
```

## Set

**Prototype:**  
```cpp
void Set(const std::string& name, INT64 value);
void Set(const std::string& name, double value);
void Set(const std::string& name, std::string value);
void Set(const std::string& name, std::vector<INT64> value);
void Set(const std::string& name, std::vector<double> value);
void Set(const std::string& name, std::vector<std::string> value);
```

**Description:**
Updates the value of an existing global variable in GCTV's shared memory.

**Example:**
```cpp
#include "Functions.hpp"
#include "Terminal.hpp"

void main() {
    GCTV::Global::Type type = GCTV::Global::GetVariableType("score");
    if (type == GCTV::Global::Type::NUMBER) {
        if (GCTV::Global::Get<INT64>("score") <= 100)
            GCTV::Global::Set("score", (INT64)200);
    }
    else Terminal::Error("Failed to update because \"score\" isn't a number value!");
}
```

## Exists

**Prototype:**  
```cpp
bool Exists(const std::string& name);
```

**Description:**
Checks if a global variable with the specified name exists in the GCTV shared memory.

**Example:**
```cpp
#include "Functions.hpp"
#include "Console.hpp"

std::string GetPlayerName() {
    if (!GCTV::Global::Exists("localPlayerName")) 
	    GCTV::Global::Register("localPlayerName", "Rockstar Dev");

    return GCTV::Global::Get<std::string>("localPlayerName");
}
```

## Clear

**Prototype:**  
```cpp
void Clear();
```

**Description:**
Clears all global variables stored in the GCTV environment.

**Example:**
```cpp
GCTV::Global::Clear();
```

===========================================================

# Terminal

## BindCommand

**Prototype:**  
```cpp
bool BindCommand(const char* Command, CommandCallBack callback);
```

**Description:**
Registers a new console command in GCTV that, when entered by the user in the terminal, triggers the associated function.

**Example:**
```cpp
#include "Console.hpp"
#include "Functions.hpp"

void MyCommandHandler(const std::string&) {
	Console::Print("Hello!");
}

void main() {
	if (!GCTV::BindCommand("mycommand", MyCommandHandler)) {
		Console::Print("Failed to bind command \"mycommand\"");
	}
}
```

## UnBindCommand

**Prototype:**  
```cpp
bool UnBindCommand(const char* Command);
```

**Description:**
Unbinds any callback function associated with the specified console command.

**Example:**
```cpp
#include "Functions.hpp"

void main() {
    if (GCTV::IsCommandExist("mycommand"))
        GCTV::UnBindCommand("mycommand");
}
```

## IsCommandExist

**Prototype:**  
```cpp
bool IsCommandExist(const char* Command);
```

**Description:**
Checks whether a callback has been bound to the specified console command.

**Example:**
```cpp
#include "Functions.hpp"
#include "Console.hpp"

void main() {
    if (GCTV::IsCommandExist("mycommand")) 
        Console::Print("Command 'mycommand' is registered.");
}
```

===========================================================

# Console

## Print
**Prototype:**
```cpp
template <typename... Args>
void Console::Print(Args... args);
```

**Description:**
Outputs a formatted message to the console, appending a newline.

**Example:**
```cpp
#include "Console.hpp"

void main() {
    Console::Print("Hello,", "world!");
    Console::Print("Player score:", 100);
}
```

## Error
**Prototype:**
```cpp
template <typename... Args>
void Console::Error(Args... args);
```

**Description:**
Outputs an error message to the console, prefixing it with a red-colored script label.

**Example:**
```cpp
#include "Console.hpp"

void main() {
    Console::Error("Failed to load configuration.");

    return;
}
```

## PrintColoured
**Prototype:**
```cpp
template <typename... Args>
static void Console::PrintColoured(ConsoleColor color, Args... args);
```

**Description:**
Outputs a formatted message to the console with the specified color.

**Example:**
```cpp
#include "Console.hpp"

void main() {
    Console::PrintColoured(ConsoleColor::GREEN, "Success:", "Operation completed.");
}
```

## Write
**Prototype:**
```cpp
template <typename... Args>
static void Console::Write(Args... args);
```

**Description:**
Outputs a message to the console without adding a newline at the end.

**Example:**
```cpp
#include "Console.hpp"

void main() {
    Console::Write("Processing...\r");
    Sleep(1000);
    Console::Write("Done.");
}
```

## SetColor
**Prototype:**
```cpp
void Console::SetColor(ConsoleColor color);
```

**Description:**
Sets the console text color.

**Example:**
```cpp
#include "Console.hpp"

void main() {
    if (ENTITY::GET_ENTITY_HEALTH(PLAYER::GET_PLAYER_PED_f(PLAYER::PLAYER_ID_f()))) {
	    Console::SetColor(ConsoleColor::YELLOW);
	    Console::Print("Warning: Low health!");
	    Console::Print("Press 'K' to heal a character.");
	    Console::ResetColor();
    }
}
```

## ResetColor
**Prototype:**
```cpp
void Console::ResetColor();
```

**Description:**
Resets the console text color to default (LIGHT_GRAY).

**Example:**
```cpp
#include "Console.hpp"

void main() {
    Console::SetColor(ConsoleColor::RED);
    Console::Print("Critical Error!");
    Console::ResetColor();
}
```

## Input
**Prototype:**
```cpp
static std::string Console::Input(const std::string& prompt);
static std::string Console::Input(const std::string& prompt, bool toLower);
```

**Description:**
Displays a prompt in the console and waits for user input. The second version (toLower) converts input to lowercase if true.

**Example:**
```cpp
#include "Console.hpp"

void main() {
std::string username = Console::Input("Enter username: ");
std::string action = Console::Input("Enter action: ", true);
}
```

## InputFromList
**Prototype:**
```cpp
ID Console::InputFromList(const std::string& prompt, const std::vector<std::string>& options);
```

**Description:**
Displays a list of options and waits for user selection.
Returns the index of the selected option in the vector of options.

**Example:**
```cpp
#include "Console.hpp"

void main() {
    std::vector<std::string> items = {"Sword", "Shield", "Potion"};
    auto choice = Console::InputFromList("Choose an item: ", items);

    if (choice != -1) {
        Console::Print("You selected:", items[choice]);
    } else {
        Console::Print("Invalid selection.");
    }
}
```

# Gamepad

## SelectController

**Prototype:**
```cpp
void SelectController(GCTV::Input::ControllerId id);
```

**Description:**  
Selects a game controller for the current `Gamepad` object instance.

`GCTV::Input::ControllerId` is an enum that has the following values:  FIRST, SECOND, THIRD, FOURTH

**Example:**
```cpp
#include "Functions.hpp"

void main() {
    Gamepad gamepad;

    gamepad.SelectController(GCTV::Input::SECOND);
}
```

## GetController

**Prototype:**
```cpp
GCTV::Input::ControllerId GetController();
```

**Description:**  
Retrieves the currently selected controller ID for the current `Gamepad` object instance.

**Example:**
```cpp
#include "Functions.hpp"
#include "Console.hpp"

void main() {
    Gamepad gamepad;

    gamepad.SelectController(GCTV::Input::THIRD);

    Console::Print("Selected controller: #" + gamepad.GetController());
}
```

## GetPressedKey

**Prototype:**
```cpp
std::string GetPressedKey();
```

**Description:**  
Returns the last key pressed on the selected gamepad controller associated with the current instance of the `Gamepad` object.

If no key is pressed, it returns empty string.

**Example:**
```cpp
#include "Functions.hpp"
#include "Console.hpp"

void main() {
    Gamepad gamepad;

    std::string key = gamepad.GetPressedKey();

    if (!key.empty())
        Console::Print("Pressed key:", key);
    else
        Console::Print("No key pressed");
}
```

## GetPressedKeys

**Prototype:**
```cpp
std::vector<std::string> Gamepad::GetPressedKeys()
```

**Description:**  
Returns a vector of all the most recently pressed keys on the selected gamepad controller associated with the current instance of the `Gamepad` object.
If no keys are pressed, it returns an empty vector.

**Example:**
```cpp
#include "Functions.hpp"
#include "Console.hpp"

void main() {
    Gamepad gamepad;

    std::vector<std::string> keys = gamepad.GetPressedKeys();

    if (!keys.empty()) {
        Console::Write("Pressed keys: ");
        for (std::string key : keys) Console::Write(key + " ");
        Console::Write("\n");
    }
}
```

## GetLeftStickState

**Prototype:**
```cpp
Gamepad::StickPos GetLeftStickState();
```

**Description:**  
Retrieves the current position of the left analog stick of the selected gamepad controller associated with the current `Gamepad` object instance.

The function returns a struct containing the coordinates of the left stick position(`float x`, `float y`).

If the controller or stick state is not available, the function is initialised with zeros, i.e. `x` and `y` will be 0.0.

**Example:**
```cpp
#include "Functions.hpp"
#include "Console.hpp"

void main() {
	Gamepad gamepad;

	auto lstick = gamepad.GetLeftStickState();

	if (lstick.active)
		Console::Print("Left Stick: x =" + std::to_string(lstick.x) + " y = " + std::to_string(lstick.y));
}
```

## GetRightStickState

**Prototype:**
```cpp
Gamepad::StickPos GetRightStickState();
```

**Description:**  
Retrieves the current state of the right analog stick of the selected gamepad controller associated with the current `Gamepad` object instance.

The function returns a struct containing the coordinates of the right stick position(`float x`, `float y`).

If the controller or stick state is not available, the function is initialised with zeros, i.e. `x` and `y` will be 0.0.

**Example:**
```cpp
#include "Functions.hpp"
#include "Console.hpp"

void main() {
	Gamepad gamepad;

    while(GCTV::IsScriptsStillWorking()) {
	    auto lstick = gamepad.GetLeftStickState();

	    if (lstick.active)
		    Console::Print("Left Stick: x =" + std::to_string(lstick.x) + " y = " + std::to_string(lstick.y));
    }
}
```

## GetTriggersState

**Prototype:**
```cpp
Triggers GetTriggersState();
```

**Description:**  
Retrieves the current state of the left and right triggers of the selected gamepad controller associated with the current `Gamepad` object instance.

The function returns a struct containing the pressure values for the left trigger (`float LT`) and the right trigger (`float RT`).

If the controller or stick state is not available, the function is initialised with zeros, i.e. `LT` and `RT` will be 0.0.

**Example:**
```cpp
#include "Functions.hpp"
#include "Console.hpp"

void main() {
	Gamepad gamepad;

	auto triggers = gamepad.GetTriggersState();

	if (triggers.active)
		Console::Print("Left Stick: LT =" + std::to_string(triggers.LT) + " RT = " + std::to_string(triggers.RT));
}
```

## SendVibration

**Prototype:**
```cpp
void SendVibration(float strength, bool useLeftMotor = true, bool useRightMotor = true);
```

**Description:**  
Triggers vibration on the selected gamepad controller associated with the current `Gamepad` instance. You can control the intensity and specify which motor(s) should vibrate.

Parameter `strength` â€” A float value representing the vibration strength (e.g., `0.0` to `1.0`).

**Example:**
```cpp
#include "Functions.hpp"

void main() {
	Gamepad gamepad;

	for (int i = 0; i < 7; ++i) {
        gamepad.SendVibration(0.5);
        Sleep(100);
        gamepad.SendVibration(0.0);
        Sleep(400);
    }
}
```

